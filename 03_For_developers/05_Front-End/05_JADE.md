# Jade переменные #

Jade как шаблонизатор несет как удобства, так и недостатки. Одним из недостатков является тот факт, что мы работаем с 1 файлом, который применяется на всех страницах. Например это header.jade. Каждая страница может иметь разный набор ссылок меню, разные состояния меню.

## Тайтлы c Jade ##

Самое очевидно использование, которое нужно делать — создавать перемнную title в начале jade файла, а в файле head.jade ее использовать.

__Файл index.jade:__

```HTML
- var title = "Главная — {имя проекта}";
doctype html
html(lang="ru")
```

__Файл head.jade:__

```HTML
head
    meta(charset="utf-8")
    meta(http-equiv="X-UA-Compatible", content="IE=edge")
    title #{title}
```

Переменная тайтла перекочёвывает прямо в html страницы.

## Меню c Jade ##

Типичная проблема проекта на шаблонизаторе — мы сделали один файл header.jade, где есть список пунктов меню (навигация и прочее). В итоге каждая страница (Главная, О нас, Контакты) имеет одинаковый список пунктов, и нет возможности показать текущий активный пункт страницы. Для решения этой проблемы нужно использовать цикл + миксин + переменную на Jade.

__about.html__

В начале страницы указываем переменные. Переменная menuArray — это массив объектов пунктов меню. Тут есть имя пункта, ссылка и булевая перемнная, которая показывает активный это пункт или нет. Если пункт активный, то генерируется li.active\> span, а не li \> a.

```HTML
- var menuArray = [{linkName:'О компании', href: 'about.html', active: true}, {linkName:'Новости', href: 'news.html', active: false}];
```

__header.jade__


В начале файла нужно указать файл с миксином списка пунктов меню. Ниже, в необходимом месте нужно вызвать миксин списка пунктов меню.

```
include ../mixins/mainMenuMixin
...
nav.menu__navbar
      ul.navbar-list
        ul
          +menuMixin(menuArray)
```

__mainMenuMixin.jade__

Здесь мы указываем цикл, в котором мы перебираем весь массив объектов для меню, а потом генерируем меню.

```
mixin menuMixin(data)
  if(data && data.length > 0)
    ul
      each obj in data
        if (obj.active === false)
          li
            a.tile-link(href=obj.href) #{obj.linkName}
        else
          li.active
            span #{obj.linkName}
```
