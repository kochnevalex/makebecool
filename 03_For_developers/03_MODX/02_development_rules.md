@title Шаг 5: Стандарты разработки шаблонов MODX
@short Стандарты разработки
@group modxstandarts

В этом документе описаны стандарты, которым необходимо строго следовать при разработке шаблонов для MODX

= Создане чанков и шаблонов =
== Базовые чанки ==
Создаем в папке ##basetheme-elements/chunks/base## файлы со следующими названиями:
- metaBase.tpl - чанк для секции head всех шаблонов сайта. Если для какого-либо шаблона необходима кардинально измененная секция head, но нужно создать другой чанк и назвать его согласно стандартам именования
- headerBase.tpl - чанк с общим меню сайта
- footerBase.tpl - чанк с общим футером сайта
Создаем в папке ##basetheme-elements/chunks/content## файлы со следующими названиями:
- indexContent.tpl - контентная часть главной страницы
- 404Content.tpl - контентная часть страницы 404

== Шаблоны ==
Шаблоны состоят толко из набора вложенных в них чанков.
```
[[$metaBase]]
[[$headerBase]]
[[$entityContent]]
[[$footerBase]]
```

В зависимости от потребностей чанки могут добаляться или удаляться, но в шаблоне должны присутствовать только чанки категорий base и content

Создаем в папке ##basetheme-elements/templates## файлы со следующими названиями:
- index.tpl - шаблон главной страницы
- 404.tpl - шаблон страницы 404

== Создание элементов в админке ==
Начинаем создание с чанков. Правила:
- Чанки должны быть статическими
- Имя чанка должно соответствовать имени файла
- Категория чанка должна соответствовать каталогу чанка
Создание шаблонов:
- Для шаблона действуют те же правила что и для чанков
- Шаблоны для служебных страниц должны быть в категории technical
- В описании шаблона необходимо описать его назначение


= Правила работы со сниппетами и чанками =

IMPORTANT: Для параметров снипетов использовать наборы параметров

IMPORTANT: Везде использовать вывод полных ссылок, а не относительных. Добавлять эту настройку в наборы параметров для pdoMenu, pdoResources и любых других снипетов, которые генерируют ссылки

- Если параметр отвечает за логику вывода информации, к примеру сортировку по дате, показывать не показывать скрытые в меню ресурсы, то выносить его в набор параметров
- Если параметр отвечает за струкутру шаблона или техническую логику, к примеру имя чанка или код чанка, параметры подключения и вывода ТВ, список полей для вализации в форме и др.
- Параметр определяющий родительский ресурс для вывода информации не выноситься в набор параметров

IMPORTANT: В коде нельзя использовтаь id ресурсов для ссылок на них, это нужно делать через настройки

Для того чтобы сосласться на ресурс в чанке, необходимо сначала добавить натсройку для этого ресурса в системных настройках.
В пространстве ##basetheme##, радел ##basetheme_resouces## создаем новый параметр: basetheme.id_**entity** и присваеваем ему
нужное значение - id ресурса. Затем используем в чанках:
```
[[pdoResources@projectsList?
    &parents=`[[++basetheme.id_projects]]`
    &includeTVs=``
    &processTVs=``
    &tvPrefix=``
    &tpl=`@INLINE <option value="[[+pagetitle:htmlent]]">[[+pagetitle:htmlent]]</option>`
]]
```

IMPORTANT: Все плайсхолдеры с пользоватеьским текстом, кроме ##[[+content]]##, необходимо экранировать, если не предусмотренно использование в них html символов

```
<img src="..." alt="[[+pagetitle:htmlent]]"

<option value="[[+pagetitle:htmlent]]">[[+pagetitle:htmlent]]</option>

<h2>[[+pagetitle:htmlent]]</h2>

<a href="..." title="[[+pagetitle:htmlent]]">[[+pagetitle:htmlent]]</a>
```

= Навигация =
- Назад: Перечень стандартных компонентов для разработки проектов: @{article:Components}
- Вперед: