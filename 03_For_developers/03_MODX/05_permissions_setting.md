@title Шаг 3: Настройка пользовательского досутпа в MODX
@short Настройка прав
@group modxstandarts

В этом документе описана базовая настройка прав для редакторов контента

= Политики доступа и права =
{nav, Настройки > Контроль доступа}

== Вкладка "Политики доступа" ==
Создаем новую политику доступа:
- Имя - **Manager**
- Шаблон - **AdministratorTemplate**
- Описание - **Context administration policy with limited, content-editing related Permissions and publishing.**
Редактируем созданную политику и задаем следующие разрешения:
- ##change_password## Пользователь может менять свой пароль - **да**
- ##change_profile## Пользователь может редактировать свой профиль - **да**
- ##class_map## Видеть список классов в карте классов - **да**
- ##components## Видеть меню «Компоненты» - **да**
- ##countries## Смотреть список стран - **да**
- ##delete_document## Удалять и перемещать ресурсы - **да**
- ##directory_create## Создавать каталоги в файловой системе - **да**
- ##directory_list## Получать список подкаталогов для каталога в файловой системе - **да**
- ##directory_remove## Удалять каталоги в файловой системе - **да**
- ##directory_update## Переименовывать каталоги в файловой системе - **да**
- ##edit_document## Редактировать ресурсы - **да**
- ##empty_cache## Очищать кэш сайта - **да**
- ##file_create## Создавать файлы - **да**
- ##file_list## Смотреть список файлов в определенном каталоге - **да**
- ##file_manager## Использовать диспетчер файлов - **да**
- ##file_remove## Удалять файлы - **да**
- ##file_tree## Видеть дерево файлов в левой навигационной панели - **да**
- ##file_update## Изменять файлы - **да**
- ##file_upload## Загружать файлы в папку - **да**
- ##file_view## Просматривать содержимое файла - **да**
- ##frames## Использовать бэкэнд MODX - **да**
- ##help## Смотреть страницу «Помощь» - **да**
- ##home## Смотреть страницу приветствия - **да**
- ##languages## Смотреть и редактировать словари - **да**
- ##lexicons## Смотреть и редактировать «Управление словарями» - **да**
- ##load## Возможность «загружать» объекты, или быть в состоянии вернуть их как экземпляр объекта вообще - **да**
- ##list## Возможность «list» любого объекта. «List» означает получить колекцию объектов - **да**
- ##logout## Возможность выходить как пользователь - **да**
- ##menu_reports## Показывать в верхнем меню пункт «Отчёты» - **да**
- ##menu_site## Показывать в верхнем меню пункт «Сайт» - **да**
- ##menu_user## Показывать в верхнем меню пункт «Пользователь» - **да**
- ##namespaces## Видеть и редактировать «Пространства имён» - **да**
- ##new_document## Создавать ресурсы - **да**
- ##publish_document## Публиковать или отменять публикацию ресурсов - **да**
- ##purge_deleted## Очищать корзину - **да**
- ##resource_duplicate## Создавать копию ресурса - **да**
- ##resource_tree## Смотреть дерево ресурсов в левой навигационной панели - **да**
- ##save_document## Сохранять ресурсы - **да**
- ##source_view## Видеть источник файлов - **да**
- ##tree_show_resource_ids## Показывать идентификатор в дереве ресурсов - **да**
- ##undelete_document## Возможность отменять удаление ресурсов - **да**
- ##unpublish_document## Отменять публикацию ресурсов - **да**
- ##view## Возможность «просмотра» объектов - **да**
- ##view_document## Просматривать ресурсы - **да**
- ##view_unpublished## Просматривать неопубликованные ресурсы - **да**
IMPORTANT: Для остальных разрешения галочку нужно снять.

== Вкладка "Роли" ==
Создаем новую роль
- Имя - **Manager**
- Ранг - **1**
- Описание - **Manager site**

== Вкладка "Группы пользователей" ==
Создаем новую группу
- Имя -  **Manager**
- Контексты - **web,mgr**
- Политика бэкенда - **Manager**

=== Редактируем созданную группу ===
Вкладка "Доступ к контекстам"
У контекста **mgr** изменяем настройки
- Минимаьная роль - **manager-1**
- Политика доступа - **Manager**

= Группы ресурсов =
{nav, Сайт > Группы ресурсов}
Создаем новую группу со следующими параметрами:
- Имя - **technical**
- Контексты - **web**
- Автоматически дать доступ группе "Administrator" - **да**
- Автоматически дать анонимный доступ - **да**
- Автоматически дать доступ другим группам - **Manager**

{nav, Настройки > Контроль доступа}
Редактируем группу "Администраторы".
Вкладка "Доступ к категориям элементов", новое правило:
- Категория - **basetheme - technical**
- Контекст - **mng**
- Минимальная роль - **Super User**
- Политика досутпа - **Object**

Вкладка "Доступ к группам ресурсов", новое правило:
- Группа ресурсов - **technical**
- Контекст - **mgr**
- Минимальная роль - **Super User**
- Политика доступа - **Resource**

= Пользователь =
{nav, Управление > Пользователи}
Создаем пользователя со следующими параметрами:
- Имя пользователя -  **manager**
- Email - **manager@доменСайта**
- Активный - **да**
- Пароль - **managersite**
- Вкладка "Права доступа"
-- добавляем в группу **Manager**, **роль Manager**

= Источники файлов =
{nav, Медиа > Источники файлов}
Редактируем дефолтный источник Filesystem, добавляем группу пользователей:
- Группа пользователей - **Администратор**
- Минимальная роль - **Super User**
- Политика - **Admin**
Добавляем еще одну группу
- Группа пользователей - **Администратор**
- Минимальная роль - **Super User**
- Политика - **User**

Создаем новый источник файлов:
- Имя - **Uploads**
- Тип - **Файловая система**
Редактируем новый источник файлов:
- basePath - **assets/uploads/**
- baseUrl - **assets/uploads/**

= Навигация =
- Назад: Настройка и стандарты MODX: @{article:Modx configuration}
- Вперед: Перечень стандартных компонентов для разработки проектов @{article:Components}